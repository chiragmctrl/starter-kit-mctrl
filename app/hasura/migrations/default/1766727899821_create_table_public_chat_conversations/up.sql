CREATE TABLE "public"."chat_conversations" ("id" uuid NOT NULL DEFAULT gen_random_uuid(), "organization_id" text NOT NULL, "user_id" text NOT NULL, "title" text NOT NULL, "is_archived" boolean NOT NULL DEFAULT false, "visibility" text NOT NULL DEFAULT 'private', "created_at" timestamptz NOT NULL DEFAULT now(), "updated_at" timestamptz, PRIMARY KEY ("id") , FOREIGN KEY ("organization_id") REFERENCES "auth"."organization"("id") ON UPDATE restrict ON DELETE cascade, FOREIGN KEY ("user_id") REFERENCES "auth"."user"("id") ON UPDATE restrict ON DELETE cascade, UNIQUE ("id"));
CREATE EXTENSION IF NOT EXISTS pgcrypto;
